# Dev Setup

## Prerequisite

go `>=1.24.2`

### Install Dev dependencies

Run
```bash
make tools
```
see `Makefile` to know more about dev dependencies

Once All Dev Dependencies are installed now you're ready to run dev server with hot reload capabilities

### Running Dev Server
```bash
make dev
```

### IP Binding for Development

By default, the development server might bind to `localhost` (127.0.0.1), making it accessible only from your local machine. If you need to access the development server from other devices on your network (e.g., a mobile device for testing), you'll need to configure it to bind to your local IP address or `0.0.0.0`.

**Using `0.0.0.0`:**
Binding to `0.0.0.0` makes the server accessible on all available network interfaces. This is generally the easiest way to make your development server accessible from other devices on the same network.

Example for `.env.development`:
```
HOST=0.0.0.0
PORT=8080
```

**Using your specific IP address:**
Alternatively, you can bind the server to your machine's specific local IP address. This is useful if you want to restrict access to a particular network interface or if `0.0.0.0` causes issues in your environment.

To find your local IP address:
- **Linux/macOS:** Open a terminal and run `ifconfig` or `ip addr show`. Look for an entry like `inet` followed by an IP address (e.g., `192.168.1.100`).

Ensure that your firewall settings allow incoming connections on the specified port if you are accessing from an external device.

then call `GET 192.168.0.128:8080` -> you should see the API response

### To Build the package
```bash
make build
```

### To run build
```bash
make server
```

### Folder Structure
```
go-api-project/
├── cmd/                    # Main applications (entrypoints)
│   ├── server/             # Main API entry
│   │   └── main.go
│
├── internal/               # Private app logic
│   ├── api/                # Controller-like layer (handlers)
│   ├── config/             # Environment and configuration management
│   ├── domain/             # Domain models and interfaces
│   ├── ent/                # Auto-generated by ent (go generate ./ent)
│   ├── repository/         # Data access logic using ent
│   ├── service/            # Business logic
│   ├── middleware/         # HTTP middlewares
│   ├── utils/              # Helpers (e.g. logger, error utils)
│
├── scripts/                # Dev/test/deploy helper scripts
│   ├── migrate.sh
│
├── docker/                 # Docker-related configs
│   ├── dev/
│   ├── staging/
│   ├── prod/
│
├── test/                   # Integration / E2E tests
│
├── .env                    # Dev env vars
├── Dockerfile
├── docker-compose.yml
├── Makefile
├── go.mod
├── go.sum
└── README.md
```

# Contribution Guide

### Git conventions
Branch Naming
| Type       | Purpose |
|------------|---------|
| `feature/` | New features or enhancements |
| `bugfix/`  | Non-critical bug fixes |
| `hotfix/`  | Critical fixes that go directly to production |
| `chore/`   | Routine tasks like dependency updates |
| `refactor/`| Code restructuring without changing behavior |
| `test/`    | Adding or updating tests |
| `docs/`    | Documentation changes only |

e.g. `feature/user-signup` `bugfix/fix-null-error`
if Jira card exists `feature/PROJ-123-login-flow`

Commit Message
| Type       | Purpose |
|------------|---------|
| `feat`     | A new feature |
| `fix`      | A bug fix |
| `docs`     | Documentation only changes |
| `style`    | Formatting, missing semicolons, etc (no code changes) |
| `refactor` | Code change that doesn't fix a bug or add a feature |
| `perf`     | Performance improvement |
| `test`     | Adding or modifying tests |
| `chore`    | Routine tasks like dependency updates |
| `ci`       | CI/CD pipeline changes |
| `build`    | Build system or external dependencies changes |

```
feat(auth): add login endpoint
fix(user): prevent crash on null profile
docs(readme): add setup instructions
style(linter): fix ESLint errors
refactor(cart): simplify discount logic
test(api): add test for payment gateway
chore(deps): update lodash to v4.17.21
```
